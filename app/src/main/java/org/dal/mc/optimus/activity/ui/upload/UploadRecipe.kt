package org.dal.mc.optimus.activity.ui.upload

import android.content.Intent
import android.net.Uri
import android.os.Build
import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.util.Log
import android.view.MenuItem
import androidx.annotation.RequiresApi
import androidx.core.app.ShareCompat
import com.google.android.material.snackbar.Snackbar
import com.google.firebase.auth.FirebaseAuth
import kotlinx.android.synthetic.main.activity_upload_recipe.*
import org.dal.mc.optimus.R
import org.dal.mc.optimus.activity.MainActivity
import org.dal.mc.optimus.activity.ui.profile.ProfileFragment
import org.dal.mc.optimus.model.RecipeItem
import org.dal.mc.optimus.util.fetchMyRecipes
import org.dal.mc.optimus.util.fetchUploadedRecipes

class UploadRecipe : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_upload_recipe)
        this.setSupportActionBar(app_bar_upload)
        //to enable back button on app bar.
        supportActionBar?.setDisplayHomeAsUpEnabled(true)
        supportActionBar?.setDisplayShowHomeEnabled(true)
        setVideoToView()
        uploadRecipe()
        requestPermission()
    }

    /**
     * Method to set URI to video view for video to be uploaded.
     */
    private fun setVideoToView(){
        //set video view
        var pathVideoPath = intent.getStringExtra("path")
        var videoUri = Uri.parse(pathVideoPath)
//        var videoUri = intent.getSerializableExtra("path") as Uri
        upload_video_view.setVideoURI(videoUri)
        upload_video_view.start()
    }

    /**
     * Method to upload recipe.
     */
    private fun uploadRecipe(){
        btn_upload.setOnClickListener {
            var recipeName = edit_text_recipe_name.text.toString()
            var recipeImage =
                "data:image/jpeg;base64,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"
            //add into uploaded recipes
            fetchUploadedRecipes()?.add(RecipeItem(recipeImage, recipeName))
            //Traverse to Profile Activity

            val profileIntent = Intent(this@UploadRecipe, MainActivity::class.java)
            startActivity(profileIntent)
            finish()
        }
    }
    private fun requestPermission(){

//        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)
//            != PackageManager.PERMISSION_GRANTED){
//            ActivityCompat.requestPermissions(this, arrayOf( Manifest.permission.READ_EXTERNAL_STORAGE), 1)
//        }
    }

    //Handle menu select
    @RequiresApi(Build.VERSION_CODES.N)
    override fun onOptionsItemSelected(item: MenuItem): Boolean {
        //TODO: Handle select event on menu. Add switch statement on Id of menu item and add logic for each one.
        return when(item.itemId){
            R.id.home -> {
                onBackPressed()
                true
            }
            else -> {
                return super.onOptionsItemSelected(item)
            }
        }
    }

}
